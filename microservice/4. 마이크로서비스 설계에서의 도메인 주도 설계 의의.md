# 마이크로서비스 설계
- 모든 시스템이 그렇듯, 응집성을 높이고 결합도를 낮춰야 마이크로서비스의 장점인 독립적인 배포가 가능하다.
    - 가급적이면 다른 서비스를 호출 하지 않는 서비스를 만들어야한다.
- 각 마이크로서비스의 비즈니스 로직 설계는 도메인 주도 설계의 전술적 설계를 바탕으로 한다.
    - 각 서비스 내부 설계는 전술적 설계를 바탕으로, 각 서비스간의 설계는 전략적 설계를 바탕으로 한다.

## 도메인 주도 설계란
- 구축해야 하는 소프트웨어, 시스템을 위해서는 `문제`를 이해해야 한다.
    - 문제: 비즈니스 전략과 소프트웨어를 통해 얻고자 하는 가치를 의미
- `문제`를 이해하기 위해서는 비즈니스(문제 영역)를 명확하게 알고 있어야 함.
- 도메인: 비즈니스 하위에 있는 기업의 주요 활동 영역, 회사가 제공하는 서비스
- 서브 도메인: 도메인 하위에 있는 세부 단위

## 하위 도메인
- 하위 도메인 유형
    - 핵심
        - 회사가 경쟁업체와 다르게 수행하고 있는 것
        - 복잡성은 높지만 비즈니스적 경쟁력을 제공
            - 우버의 방향에 따른 손님 매칭 서비스, 구글의 검색 순위 알고리즘
    - 일반
        - 모든 회사가 같은 방식으로 수행하는 비즈니스 활동
        - 복잡하고 구현하기 어렵지만, 경쟁력을 제공하지는 않음 (알려진 영역)
            - 인증, 권한 부여
    - 지원
        - 회사의 비즈니스 지원 활동
        - 기능이 간단하고 어떤 경쟁 우위도 제공하지 않음
            - CRUD, ETL
- 일반, 지원은 마땅히 되어야 하는 것들
- 핵심은 다른 회사와의 차별점을 만들어주는 구간

<img width="533" alt="image" src="https://github.com/rhqudco/TIL/assets/55828130/1c3e8892-a700-450b-8ca5-c564a0285cee">

- 하위 도메인 유형에 따른 구분 방법
    - 핵심
        - 사내에서 구현, 조직의 핵심 숙련 인재 할당
        - 자주 지속적으로 변경 예상되므로 가장 진보적인 엔지니어링 기술 적용
    - 일반
        - 이미 만들어진 제품, 오픈 소스 솔루션
    - 지원
        - 사내에서 구현 하지 않음
        - 정교한 디자인 패턴이나, 고급 엔지니어링 기술 필요 없음
        - 새로운 인재 양성을 위한 연습 기회 제공
